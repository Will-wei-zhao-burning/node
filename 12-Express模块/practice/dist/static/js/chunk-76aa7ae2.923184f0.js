(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76aa7ae2"],{"0364":function(e,t,a){},6352:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-left"},[a("el-row",{staticClass:"serach-box"},[e._l(e.headerItems,(function(t){return a("el-col",{key:t,attrs:{span:4}},[a("el-col",{attrs:{span:6}},[e._v(e._s(t.label))]),a("el-col",{attrs:{span:17}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.userQuery[t.prop],callback:function(a){e.$set(e.userQuery,t.prop,a)},expression:"userQuery[item.prop]"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.query},slot:"append"})],1)],1)],1)})),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.dataValue,callback:function(t){e.dataValue=t},expression:"dataValue"}})],1),a("el-col",{staticClass:"text-center",attrs:{span:4}},[a("el-button",{attrs:{type:"info"}},[e._v("导出采购表")])],1)],2),a("el-row",[a("el-table",{attrs:{border:"","span-method":e.objectSpanMethod,data:e.tableData}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号",fixed:""}}),e._l(e.tableList,(function(e){return a("el-table-column",{key:e.index,attrs:{fixed:e.isFix||!1,label:e.label,prop:e.prop,width:e.width}})})),a("el-table-column",{attrs:{width:"140",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.edit(t)}}},[e._v("文档")]),a("el-button",{attrs:{size:"mini"}},[e._v("图稿")])]}}])})],2)],1)],1)},r=[],l=(a("96cf"),a("1da1")),n=a("1bab");function i(e){return p.apply(this,arguments)}function p(){return p=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])({method:"POST",url:"/api/BusinessUnit/GetAllAccessoriesInfo",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}var o={data:function(){return{dataValue:[],spanArr:[],search:"",tableData:[{number:2,sample:"wqwqwqw"},{number:2,sample:"wqwqwqw"},{number:2,sample:"wqwqwqw"}],tableList:[{label:"订单号",prop:"orderNumber",width:"100",isFix:"left"},{label:"业务员",prop:"salesManName",isFix:"left"},{label:"客户",prop:"customerName",isFix:"left"},{label:"货号",prop:"orderNumber",isFix:"left"},{label:"名称及规格",prop:"nameAndStandard",width:"100"},{label:"采购方",prop:"sample",width:"100"},{label:"供应商",prop:"supplierName",width:"100"},{label:"数量",prop:"number",width:"100"},{label:"下单日期",prop:"creationTime",width:"100"},{label:"单价",prop:"price",width:"100"},{label:"备注2",prop:"comment2",width:"100"},{label:"总金额",prop:"sample",width:"100"},{label:"要求交期",prop:"requestTime",width:"100"},{label:"到库情况",prop:"isReady",width:"100"},{label:"到库数量",prop:"readyAmount",width:"100"},{label:"实际到库日期",prop:"readyTime",width:"100"}],headerItems:[{label:"订单号",prop:"orderNumber"},{label:"货号",prop:"productId"},{label:"业务员",prop:"salesMan"},{label:"客户",prop:"customer"}],userQuery:{orderNumber:"",productId:"",salesMan:"",customer:"",beginTime:"2021-01-03 03:24:38",endTime:"2021-01-17 03:24:38",pageSize:6,pageNumber:1}}},created:function(){this.inital()},watch:{dataValue:function(e){this.userQuery.beginTime=e[0],this.userQuery.endTime=e[1],this.query()}},methods:{inital:function(){this.getSumList(this.userQuery)},getSumList:function(e){var t=this;i(e).then((function(e){e.success&&(t.spanArr=[],t.$message.success("获得汇总列表成功"),t.tableData=e.result.accessories_InfoDto,t.getSpanArr())}))},query:function(){this.getSumList(this.userQuery)},getSpanArr:function(){for(var e=[],t=[],a=[],s=[],r=0;r<this.tableData.length;r++)0===r?(e.push(1),t.push(1),a.push(1),s.push(1),this.pos1=0,this.pos2=0,this.pos3=0,this.pos4=0):this.tableData[r].orderNumber===this.tableData[r-1].orderNumber?(e.push(0),e[this.pos1]+=1,this.tableData[r].salesManName===this.tableData[r-1].salesManName?(t.push(0),t[this.pos2]+=1,this.tableData[r].customerName===this.tableData[r-1].customerName?(a.push(0),a[this.pos3]+=1):(a.push(1),this.pos3=r)):(t.push(1),a.push(1),this.pos2=r,this.pos3=r)):(e.push(1),t.push(1),a.push(1),this.pos1=r,this.pos2=r,this.pos3=r);this.spanArr.push(e),this.spanArr.push(t),this.spanArr.push(a)},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;switch(a){case 0:var s=this.spanArr[0][t],r=s>0?1:0;return{rowspan:s,colspan:r};case 1:var l=this.spanArr[0][t],n=l>0?1:0;return{rowspan:l,colspan:n};case 2:var i=this.spanArr[1][t],p=i>0?1:0;return{rowspan:i,colspan:p};case 3:var o=this.spanArr[2][t],u=o>0?1:0;return{rowspan:o,colspan:u}}}}},u=o,c=(a("b440"),a("2877")),h=Object(c["a"])(u,s,r,!1,null,"37054244",null);t["default"]=h.exports},b440:function(e,t,a){"use strict";a("0364")}}]);
//# sourceMappingURL=chunk-76aa7ae2.923184f0.js.map