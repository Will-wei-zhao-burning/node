(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57691736"],{"159b":function(e,t,a){var n=a("da84"),r=a("fdbc"),s=a("17c2"),i=a("9112");for(var l in r){var o=n[l],c=o&&o.prototype;if(c&&c.forEach!==s)try{i(c,"forEach",s)}catch(u){c.forEach=s}}},"17c2":function(e,t,a){"use strict";var n=a("b727").forEach,r=a("a640"),s=a("ae40"),i=r("forEach"),l=s("forEach");e.exports=i&&l?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"1d89":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.display,expression:"display"}],staticClass:"container-card"},[a("el-row",{staticClass:"serach-box"},[e._l(e.headerItems,(function(t){return a("el-col",{key:t,attrs:{span:4}},[a("el-col",{attrs:{span:7}},[e._v(e._s(t.label))]),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.userQuery[t.prop],callback:function(a){e.$set(e.userQuery,t.prop,a)},expression:"userQuery[item.prop]"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.query},slot:"append"})],1)],1)],1)})),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.dataValue,callback:function(t){e.dataValue=t},expression:"dataValue"}})],1)],2),a("el-row",{staticClass:"serach-box"},[a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:7}},[e._v("状态")]),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{placeholder:"请选择模板"},on:{change:e.query},model:{value:e.userQuery.samplePlanState,callback:function(t){e.$set(e.userQuery,"samplePlanState",t)},expression:"userQuery.samplePlanState"}},e._l(e.statusTypeList,(function(e){return a("el-option",{key:e.index,attrs:{value:e}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:7}},[e._v("批量修改")]),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{placeholder:"请选择模板"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.statusChangeList,(function(e){return a("el-option",{key:e.index,attrs:{value:e}})})),1)],1)],1),a("el-col",{staticClass:"btn-area",attrs:{span:8}},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"info"},on:{click:e.toSample}},[e._v("更新状态")])],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.specificationDialogDisplay=!0}}},[e._v("导出")])],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"info"},on:{click:e.newSingle}},[e._v("新增")])],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"danger"},on:{click:e.removePreview}},[e._v("删除")])],1)],1)],1),a("el-row",{staticClass:"serach-box"},[a("el-col",{staticClass:"status-area",attrs:{span:12}},[a("span",[e._v("已完成:"+e._s(e.finished))]),a("span",[e._v("未完成:"+e._s(e.notFinished))]),a("span",[e._v("修改中:"+e._s(e.modified))]),a("span",[e._v("取消:"+e._s(e.cancel))])])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{select:e.rowclick}},[a("el-table-column",{attrs:{type:"selection",fixed:"",width:"55"}}),e._l(e.tableList,(function(e){return a("el-table-column",{key:e.index,attrs:{fixed:e.isFix||!1,label:e.label,prop:e.prop,width:e.width}})})),a("el-table-column",{attrs:{label:"照片",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"60px",height:"60px","line-height":"60px"},attrs:{src:e.row.url,"preview-src-list":[e.row.url]}})]}}])}),e._l(e.tableList2,(function(e){return a("el-table-column",{key:e.index,attrs:{fixed:e.isFix||!1,label:e.label,prop:e.prop,width:e.width}})})),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.edit(t)}}},[e._v("编辑")]),a("el-button",{attrs:{disabled:!t.row.operation,type:"text",size:"small"},on:{click:function(a){return e.handleClick(t.$index)}}},[e._v("预览")])]}}])})],2),a("el-dialog",{staticClass:"summary",attrs:{width:"35%",title:"删除确认",visible:e.deleteDialogDisplay},on:{"update:visible":function(t){e.deleteDialogDisplay=t}}},[a("el-row",[e._v("将从系统中删除以下样品信息：")]),a("div",{staticClass:"infor"},e._l(e.selectData,(function(t){return a("div",{key:t.index},[e._v(" "+e._s(t.sampleNubmber)+" ")])})),0),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.deleteDialogDisplay=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.remove}},[e._v("确 定")])],1)],1),a("el-dialog",{staticClass:"summary",attrs:{width:"35%",title:"汇总单",visible:e.summaryDialogDisplay},on:{"update:visible":function(t){e.summaryDialogDisplay=t}}},[a("el-row",[e._v("将根据以下样品信息生成汇总单：")]),a("div",{staticClass:"infor"}),a("el-row",[a("el-checkbox",{model:{value:e.summaryInit,callback:function(t){e.summaryInit=t},expression:"summaryInit"}},[e._v("记录并追踪此次汇总结果")])],1),a("el-row",[a("el-col",{attrs:{span:10}},[e._v("汇总单别名:")]),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{disabled:!e.summaryInit},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.summaryDialogDisplay=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"}},[e._v("确 定")])],1)],1),a("el-dialog",{staticClass:"summary",attrs:{width:"35%",title:"规格书",visible:e.specificationDialogDisplay},on:{"update:visible":function(t){e.specificationDialogDisplay=t}}},[a("el-row",[e._v("将根据以下样品信息生成样品规格书（建议一次不要勾选超过20份样品规格书）：")]),a("div",{staticClass:"infor"}),a("el-row",[a("el-col",{attrs:{span:10}},[e._v("样品规格书别名:")]),a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.specificationDialogDisplay=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"}},[e._v("确 定")])],1)],1)],1)])},r=[],s=(a("99af"),a("4160"),a("159b"),a("41d4")),i=a("ed95"),l={data:function(){return{dataValue:null,display:!0,totalAmount:null,finished:null,notFinished:null,modified:null,cancel:null,url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",srcList:["https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"],tableData:[{number:"1",samplenumber:"DC20-Q3",salesman:"路人甲",client:"路人乙",typename:"花",picture:"123.kb",typemachine:"K140",needle:"140",material:"20*15(平铺) 20*15(平铺)",data:"2020.11.18",status:"已完成",operation:!0,url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"},{number:"2",samplenumber:"DC20-Q3",salesman:"路人甲",client:"路人乙",typename:"花",picture:"123.kb",typemachine:"K140",needle:"140",material:"20*15(平铺) 20*15(平铺)",data:"2020.11.18",status:"已完成",operation:!1,url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"},{number:"2",samplenumber:"DC20-Q3",salesman:"路人甲",client:"路人乙",typename:"花",picture:"123.kb",typemachine:"K140",needle:"140",material:"20*15(平铺) 20*15(平铺)",data:"2020.11.18",status:"已完成",operation:!0,url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"},{number:"1",samplenumber:"DC20-Q3",salesman:"路人甲",client:"路人乙",typename:"花",picture:"123.kb",typemachine:"K140",needle:"140",material:"20*15(平铺) 20*15(平铺)",data:"2020.11.18",status:"已完成",operation:!0,url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"},{number:"1",samplenumber:"DC20-Q3",salesman:"路人甲",client:"路人乙",typename:"花",picture:"123.kb",typemachine:"K140",needle:"140",material:"20*15(平铺) 20*15(平铺)",data:"2020.11.18",status:"已完成",operation:!0,url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"}],tableList:[{label:"表单名称",prop:"alias",width:"100",isFix:"left"},{label:"样品号",prop:"sampleNubmber",width:"100",isFix:"left"},{label:"业务员",prop:"salesMan"},{label:"客户",prop:"customer"},{label:"品名",prop:"machineType"}],tableList2:[{label:"要求机种",prop:"machineType",width:"100"},{label:"要求针数",prop:"needl5rfeType",width:"100"},{label:"要求用料(表纱(表纱混率)+里纱)",prop:"materialsRequired",width:"150"},{label:"要求尺寸",prop:"requiredZize"},{label:"创建日期",prop:"creationTime",width:"150"},{label:"状态",prop:"samplePlanState"}],headerItems:[{label:"样品号",prop:"sampleNubmber"},{label:"表单名称",prop:"alias"},{label:"业务员",prop:"salesMan"},{label:"客户",prop:"customer"},{label:"针型",prop:"needleCount"}],summaryDialogDisplay:!1,summaryInit:!0,specificationDialogDisplay:!1,deleteDialogDisplay:!1,selectData:[],dialogVisible:!1,dialogImageUrl:"",value:"",statusTypeList:[],statusChangeList:[],object1:{},userQuery:{alias:"",sampleNubmber:"",salesMan:"",customer:"",needleCount:"",samplePlanType:0,samplePlanState:0,beginTime:"2021-01-08T02:29:45.612Z",endTime:"2021-01-28T02:29:45.612Z",pageSize:10,pageNumber:0}}},created:function(){this.inital()},watch:{dataValue:function(e){this.userQuery.beginTime=e[0],this.userQuery.endTime=e[1],this.query()}},methods:{inital:function(){this.getProofSingle(this.userQuery),this.getStatusList()},getStatusList:function(){var e=this;Object(i["a"])().then((function(t){t.success&&(e.statusTypeList=t.result,e.statusChangeList=t.result)}))},getProofSingle:function(e){var t=this;Object(s["b"])(e).then((function(e){e.success?(t.tableData=e.result.samplePlansOverview.items,t.totalAmount=e.result.totalAmount,t.finished=e.result.finished,t.notFinished=e.result.notFinished,t.modified=e.result.modified,t.cancel=e.result.cancel,t.$message.success("获得订打样单列表成功")):t.$message.error("获得打样单列表失败")}))},rowclick:function(e,t){this.selectData=e},query:function(){this.getProofSingle(this.userQuery)},newSingle:function(){this.$router.push("/proposal")},edit:function(e){this.$router.push({path:"/proposal",query:{iid:e.row.id}})},removePreview:function(){0!=this.selectData.length?this.deleteDialogDisplay=!0:this.$message.error("请先选择要删除的项！")},remove:function(){var e=this,t=this.selectData;if(0==t.length)this.$message.error("请先选择项！");else{var a=new Array(t.length);t.forEach((function(e,t){a[t]=e.id})),Object(s["a"])(a).then((function(t){t.success&&e.$message.success("删除成功")}))}},handleClick:function(e){console.log(e.row.client)},toSample:function(){this.$router.push("/sample")},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){console.log(e),this.dialogImageUrl=e.url,this.dialogVisible=!0},load:function(){this.tableData=this.tableData.concat([{}])}}},o=l,c=(a("90fb"),a("2877")),u=Object(c["a"])(o,n,r,!1,null,"5b8b803e",null);t["default"]=u.exports},"1dde":function(e,t,a){var n=a("d039"),r=a("b622"),s=a("2d00"),i=r("species");e.exports=function(e){return s>=51||!n((function(){var t=[],a=t.constructor={};return a[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4160:function(e,t,a){"use strict";var n=a("23e7"),r=a("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"41d4":function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return c}));a("96cf");var n=a("1da1"),r=a("1bab");function s(e){return i.apply(this,arguments)}function i(){return i=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])({method:"POST",url:"/api/BusinessUnit/GetAllSamplePlansOverview",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function l(e){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])({method:"DELETE",url:"/api/BusinessUnit/DeleteSamplePlans",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return u=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])({url:"/api/BusinessUnit/GetSingleSamplePlan/Single",params:{input:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}},"65f0":function(e,t,a){var n=a("861d"),r=a("e8b5"),s=a("b622"),i=s("species");e.exports=function(e,t){var a;return r(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},8418:function(e,t,a){"use strict";var n=a("c04e"),r=a("9bf2"),s=a("5c6c");e.exports=function(e,t,a){var i=n(t);i in e?r.f(e,i,s(0,a)):e[i]=a}},"90fb":function(e,t,a){"use strict";a("fd0c")},"99af":function(e,t,a){"use strict";var n=a("23e7"),r=a("d039"),s=a("e8b5"),i=a("861d"),l=a("7b0b"),o=a("50c4"),c=a("8418"),u=a("65f0"),p=a("1dde"),f=a("b622"),d=a("2d00"),m=f("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",y=d>=51||!r((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),v=p("concat"),g=function(e){if(!i(e))return!1;var t=e[m];return void 0!==t?!!t:s(e)},w=!y||!v;n({target:"Array",proto:!0,forced:w},{concat:function(e){var t,a,n,r,s,i=l(this),p=u(i,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(s=-1===t?i:arguments[t],g(s)){if(r=o(s.length),f+r>h)throw TypeError(b);for(a=0;a<r;a++,f++)a in s&&c(p,f,s[a])}else{if(f>=h)throw TypeError(b);c(p,f++,s)}return p.length=f,p}})},a640:function(e,t,a){"use strict";var n=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&n((function(){a.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,a){var n=a("83ab"),r=a("d039"),s=a("5135"),i=Object.defineProperty,l={},o=function(e){throw e};e.exports=function(e,t){if(s(l,e))return l[e];t||(t={});var a=[][e],c=!!s(t,"ACCESSORS")&&t.ACCESSORS,u=s(t,0)?t[0]:o,p=s(t,1)?t[1]:void 0;return l[e]=!!a&&!r((function(){if(c&&!n)return!0;var e={length:-1};c?i(e,1,{enumerable:!0,get:o}):e[1]=1,a.call(e,u,p)}))}},b727:function(e,t,a){var n=a("0366"),r=a("44ad"),s=a("7b0b"),i=a("50c4"),l=a("65f0"),o=[].push,c=function(e){var t=1==e,a=2==e,c=3==e,u=4==e,p=6==e,f=5==e||p;return function(d,m,h,b){for(var y,v,g=s(d),w=r(g),x=n(m,h,3),S=i(w.length),D=0,k=b||l,_=t?k(d,S):a?k(d,0):void 0;S>D;D++)if((f||D in w)&&(y=w[D],v=x(y,D,g),e))if(t)_[D]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return D;case 2:o.call(_,y)}else if(u)return!1;return p?-1:c||u?u:_}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},e8b5:function(e,t,a){var n=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},ed95:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("96cf");var n=a("1da1"),r=a("1bab");function s(){return i.apply(this,arguments)}function i(){return i=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])({url:"/api/Auth/GetCommonFormState"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}},fd0c:function(e,t,a){},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-57691736.32aaaeeb.js.map